{# templates/admin/dashboard.html.twig #}

{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center mb-4 text-primary">Bienvenue dans l'Administration</h1>
        <p class="text-center mb-5 text-secondary">Voici un aperçu des principales statistiques de votre plateforme.</p>

        <div class="row">
            <!-- Carte Utilisateurs -->
            <div class="col-md-4 mb-4 transform">
                <div class="card text-white bg-primary h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-person-circle"></i> Utilisateurs</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalUsers }}</h5>
                        <p class="card-text text-center">Nombre total d'utilisateurs inscrits.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les utilisateurs</a>
                    </div>
                </div>
            </div>

            <!-- Carte Badges -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-success h-100 shadow-lg rounded ">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-award"></i> Badges</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalBadges }}</h5>
                        <p class="card-text text-center">Nombre total de badges attribués.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les badges</a>
                    </div>
                </div>
            </div>

            <!-- Carte Challenges -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-warning h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-trophy"></i> Challenges</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalChallengesCount }}</h5>
                        <p class="card-text text-center">Nombre total de challenges créés.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les challenges</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Carte Recommendations -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-info h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-lightbulb"></i> Recommandations</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalRecommendations }}</h5>
                        <p class="card-text text-center">Nombre total de recommandations faites.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les recommandations</a>
                    </div>
                </div>
            </div>

            <!-- Carte Notifications -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-dark h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-bell"></i> Notifications</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalNotifications }}</h5>
                        <p class="card-text text-center">Nombre total de notifications envoyées.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les notifications</a>
                    </div>
                </div>
            </div>

            <!-- Carte Cours -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-secondary h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-book"></i> Cours</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalCourses }}</h5>
                        <p class="card-text text-center">Nombre total de cours disponibles.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les cours</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Carte Contacts -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-secondary h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-envelope"></i> Contacts</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalContacts }}</h5>
                        <p class="card-text text-center">Nombre de contacts enregistrés.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les contacts</a>
                    </div>
                </div>
            </div>

            <!-- Carte Empreinte Carbone -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-danger h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-cloud-sun"></i> Empreinte Carbone</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalCarbonFootprints }}</h5>
                        <p class="card-text text-center">Suivi de l'empreinte carbone.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir l'empreinte carbone</a>
                    </div>
                </div>
            </div>

            <!-- Carte Dernières Nouvelles -->
            <div class="col-md-4 mb-4">
                <div class="card text-white bg-dark h-100 shadow-lg rounded">
                    <div class="card-header text-center font-weight-bold"><i class="bi bi-newspaper"></i> Dernières Nouvelles</div>
                    <div class="card-body">
                        <h5 class="card-title text-center display-4">{{ totalNews }}</h5>
                        <p class="card-text text-center">Nombre d'articles de news publiés.</p>
                        <a href="{{ path('admin_dashboard') }}" class="btn btn-light btn-block">Voir les dernières nouvelles</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    {% block javascripts %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    {% endblock %}
    
{% endblock %}
